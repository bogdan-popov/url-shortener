# UrlShortener API

**UrlShortener API** ‚Äì —ç—Ç–æ –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π –±—ç–∫–µ–Ω–¥-—Å–µ—Ä–≤–∏—Å –Ω–∞ ASP.NET Core –¥–ª—è —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è URL-–∞–¥—Ä–µ—Å–æ–≤, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ —á–∏—Å—Ç–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã. –ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è JWT-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é, –ø–æ–ª–Ω—ã–π CRUD-—Ü–∏–∫–ª –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Å—ã–ª–∫–∞–º–∏, –∞ —Ç–∞–∫–∂–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ Redis –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –±—ã—Å—Ç—Ä—ã—Ö —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤.

---

## üöÄ –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

*   **–§—Ä–µ–π–º–≤–æ—Ä–∫:** .NET 8, ASP.NET Core
*   **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** –ú–Ω–æ–≥–æ—Å–ª–æ–π–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (Controllers, Services, Repositories), Dependency Injection, Unit of Work, SOLID
*   **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** PostgreSQL
*   **ORM:** Entity Framework Core (Code-First)
*   **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:** Redis (–¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –≥–æ—Ä—è—á–∏—Ö —Å—Å—ã–ª–æ–∫)
*   **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** JWT (JSON Web Tokens)
*   **–ú–∞–ø–ø–∏–Ω–≥:** AutoMapper
*   **–í–∞–ª–∏–¥–∞—Ü–∏—è:** FluentValidation
*   **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:** Custom Middleware –¥–ª—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π
*   **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è:** Docker
*   **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** xUnit, Moq, FluentAssertions

---

## ‚ú® –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ (API Endpoints)

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (`/api/auth`)

*   `POST /register`: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
*   `POST /login`: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ JWT-—Ç–æ–∫–µ–Ω–∞.

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∞–º–∏ (`/api/url`)

*   `POST /shorten` **(üîí –ó–∞—â–∏—â–µ–Ω–æ)**: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Å–æ–∫—Ä–∞—â–µ–Ω–Ω–æ–π —Å—Å—ã–ª–∫–∏.
*   `GET /my-urls` **(üîí –ó–∞—â–∏—â–µ–Ω–æ)**: –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö —Å—Å—ã–ª–æ–∫, —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —Ç–µ–∫—É—â–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º.
*   `DELETE /{shortCode}` **(üîí –ó–∞—â–∏—â–µ–Ω–æ)**: –£–¥–∞–ª–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∏, –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—â–µ–π —Ç–µ–∫—É—â–µ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.

### –†–µ–¥–∏—Ä–µ–∫—Ç

*   `GET /{shortCode}` **(–ü—É–±–ª–∏—á–Ω—ã–π)**: –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π URL. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∫—ç—à Redis –¥–ª—è –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–¥–µ—Ä–∂–µ–∫.

---

## ‚öôÔ∏è –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ

1.  **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
    ```bash
    git clone https://github.com/bogdan-popov/UrlShortener.git
    cd UrlShortener
    ```

2.  **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ `appsettings.Development.json`:**
    –£–∫–∞–∂–∏—Ç–µ –≤–∞—à—É —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL –∏ —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è JWT –≤ —Å–µ–∫—Ü–∏–∏ `JwtSettings`.

3.  **–ó–∞–ø—É—Å—Ç–∏—Ç–µ Redis –≤ Docker:**
    ```bash
    docker run --name some-redis -p 6379:6379 -d redis
    ```

4.  **–ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ EF Core:**
    –í –æ–∫–Ω–µ Package Manager Console –≤ Visual Studio –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
    ```bash
    Update-Database
    ```

5.  **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** –∏–∑ Visual Studio (F5) –∏–ª–∏ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É `dotnet run`.
